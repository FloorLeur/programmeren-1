templates:
    1: &fullyauto
        type: pass
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: -(correctness/5)
        hide_calculated: true
    2: &automatic
        type: float
        subgrades:
            correctness: integer
            design: integer
            style: integer
        automatic:
            correctness: (check_score * 5).floor
            style: style_score
        calculation: ((3 * correctness + 2 * design + 1 * style - 6) * 0.375 + 1).round(1)
        hide_calculated: true

grades:
    scratch:
        <<: *fullyauto
        calculation: -((correctness+1)/5)
    hello: *fullyauto
    water: *fullyauto
    mario_less: *automatic
    mario_more: *automatic
    cash: *automatic
    credit: *automatic
    initials_less: *fullyauto
    initials_more: *fullyauto
    caesar: *automatic
    vigenere: *automatic
    crack: *automatic
    music: *automatic
    fifteen: *automatic
    find_less: *automatic
    find_more: *automatic
    whodunit:
        type: float
        subgrades:
            correctness: integer
        calculation: (correctness / 5.0 * 9 + 1).round(1)
        hide_calculated: true
    resize_less: *automatic
    resize_more: *automatic
    recover: *automatic

calculation:
    final:
        tests: 0
        modules: 100
# resit:
#     tests: 0
#     modules: 100

modules:
    grades:
        m0:
            weight: 0
            submits:
                - scratch
        m1:
            weight: 1
            submits:
                - hello
                - water
                - mario_less
                - mario_more
                - cash
                - credit
        m2:
            weight: 1
            submits:
                - caesar
                - vigenere
                - crack
        m3:
            weight: 1
            submits:
                - fifteen
                - find
        m4: 1
            weight: 1
            submits:
                - whodunit
                - resize
                - recover
        m5: 1
            weight: 1
            submits:
                - speller

tests:
    required: true
    submits:
        t1: 1
        t2: 1
        t3: 1
        t4: 1
        t5: 1
        t6: 1
        t7: 1
        t8: 1
